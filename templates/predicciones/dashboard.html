{% extends 'base.html' %}
{% load static %}

{% block title %}Dashboard de Predicciones{% endblock %}

{% block content %}
<div class="wrapper">
    <div class="details-header">
        <h2>Dashboard de Predicciones de Negocio</h2>
    </div>

    <h3 style="margin-top: 2rem;">Sugerencias para Pedidos Entre Semana (abastecer fin de semana)</h3>
    <div class="details-content">
        <table border="1">
            <thead>
                <tr>
                    <th>PRODUCTO</th>
                    <th>STOCK ACTUAL</th>
                    <th>STOCK MINIMO</th>
                    <th>PROMEDIO SEMANAL</th>
                    <th>CANTIDAD SUGERIDA</th>
                </tr>
            </thead>
            <tbody>
                {% for item in entre_semana %}
                <tr>
                    <td>{{ item.producto }}</td>
                    <td>{{ item.stock_actual }}</td>
                    <td>{{ item.stock_minimo }}</td>
                    <td>{{ item.promedio_semanal }}</td>
                    <td>{{ item.cantidad_sugerida }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="5">No hay datos disponibles.</td></tr>
                {% endfor %}
            </tbody>
        </table>            
    </div>

    <h3 style="margin-top: 2rem;">Sugerencias para Pedidos Fin de Semana (abastecer entre semana)</h3>
    <div class="details-content">
        <table border="1">
            <thead>
                <tr>
                    <th>PRODUCTO</th>
                    <th>STOCK ACTUAL</th>
                    <th>STOCK MINIMO</th>
                    <th>PROMEDIO SEMANAL</th>
                    <th>CANTIDAD SUGERIDA</th>
                </tr>
            </thead>
            <tbody>
                {% for item in fin_de_semana %}
                <tr>
                    <td>{{ item.producto }}</td>
                    <td>{{ item.stock_actual }}</td>
                    <td>{{ item.stock_minimo }}</td>
                    <td>{{ item.promedio_semanal }}</td>
                    <td>{{ item.cantidad_sugerida }}</td>
                </tr>
                {% empty %}
                <tr><td colspan="5">No hay datos disponibles.</td></tr>
                {% endfor %}
            </tbody>
        </table>            
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script src="{% static 'js/predicciones_dashboard.js' %}"></script>
{% endblock %}
